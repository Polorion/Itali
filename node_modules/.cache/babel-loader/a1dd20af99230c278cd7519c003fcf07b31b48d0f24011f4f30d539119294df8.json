{"ast":null,"code":"var _jsxFileName = \"D:\\\\gameOfEggs\\\\ubuntu\\\\src\\\\component\\\\WindowGame\\\\WindowGame.jsx\",\n  _s = $RefreshSig$();\nimport * as React from \"react\";\nimport S from \"./WindowGame.module.scss\";\nimport MoveButton from \"../MoveButton/MoveButton\";\nimport PlayerContainer from \"../Player/PlayerContainer\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { movePositionPlayer } from \"../../store/reducers/PlayerReducer\";\nimport ChickenContainer from \"./ChickenContainer/ChickenContainer\";\nimport { aggEgg } from \"../../store/reducers/ChickenReducer\";\nimport { fromEggs } from \"../../Helper/CreateFromEggs\";\nimport { useEffect, useRef, useState } from \"react\";\nimport ChoisePlayer from \"../ChoicePlayer/ChoicePlayer\";\nimport ButtonControlGameContainer from \"../ButtonControlerGame/ButtonControlGameContainer\";\nimport Timer from \"../Timer/Timer\";\nimport OpenChickenContainer from \"../OpenChikenContainer/OpenChickenContainer\";\nimport GameOver from \"../GameOver/GameOver\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WindowGame = () => {\n  _s();\n  const ref = useRef();\n  const owner = useSelector(state => state.player.owner);\n  const runGame = useSelector(state => state.player.gameIsRun);\n  const speedEggSpawn = useSelector(state => state.player.speedEggSpawn);\n  const gameOver = useSelector(state => state.player.gameOver);\n  const [h, setH] = useState(window.screen.availWidth);\n  useEffect(() => {\n    const test = document.querySelector(\".test\");\n    setH(test.offsetHeight);\n    const windowRaz = () => {\n      const w = document.querySelector(\".container\").clientWidth;\n      setH(test.offsetHeight);\n    };\n    window.addEventListener(\"resize\", windowRaz);\n    window.addEventListener(\"orientationchange\", windowRaz);\n    return () => {\n      window.removeEventListener(\"resize\", windowRaz);\n      window.removeEventListener(\"orientationchange\", windowRaz);\n    };\n  }, []);\n  const dispatch = useDispatch();\n  const BTN = [{\n    position: \"1\"\n  }, {\n    position: \"3\"\n  }, {\n    position: \"2\"\n  }, {\n    position: \"4\"\n  }];\n  useEffect(() => {\n    let t;\n    if (runGame) {\n      t = setInterval(() => {\n        const from = fromEggs();\n        dispatch(aggEgg(from));\n      }, speedEggSpawn);\n    }\n    return () => {\n      clearInterval(t);\n    };\n  }, [runGame, speedEggSpawn]);\n  const changePosition = pos => {\n    dispatch(movePositionPlayer(pos));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    },\n    children: owner ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: S.gameWindow,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        ref: ref,\n        style: {\n          height: `${h}px`,\n          width: `100%`\n        },\n        children: [owner && /*#__PURE__*/_jsxDEV(ButtonControlGameContainer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(Timer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ChickenContainer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(GameOver, {\n          gameOver: gameOver\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(OpenChickenContainer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: S.buttonBody,\n          children: BTN.map(el => /*#__PURE__*/_jsxDEV(MoveButton, {\n            position: el.position,\n            action: changePosition\n          }, el.position, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(ChoisePlayer, {\n      onliFull: true,\n      owner: owner\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(WindowGame, \"aVkB1RnOQuxsh7kFw84CVyJfaYE=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector, useDispatch];\n});\n_c = WindowGame;\nexport default WindowGame;\nvar _c;\n$RefreshReg$(_c, \"WindowGame\");","map":{"version":3,"names":["React","S","MoveButton","PlayerContainer","useDispatch","useSelector","movePositionPlayer","ChickenContainer","aggEgg","fromEggs","useEffect","useRef","useState","ChoisePlayer","ButtonControlGameContainer","Timer","OpenChickenContainer","GameOver","WindowGame","ref","owner","state","player","runGame","gameIsRun","speedEggSpawn","gameOver","h","setH","window","screen","availWidth","test","document","querySelector","offsetHeight","windowRaz","w","clientWidth","addEventListener","removeEventListener","dispatch","BTN","position","t","setInterval","from","clearInterval","changePosition","pos","width","height","gameWindow","buttonBody","map","el"],"sources":["D:/gameOfEggs/ubuntu/src/component/WindowGame/WindowGame.jsx"],"sourcesContent":["import * as React from \"react\";\nimport S from \"./WindowGame.module.scss\";\n\nimport MoveButton from \"../MoveButton/MoveButton\";\nimport PlayerContainer from \"../Player/PlayerContainer\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { movePositionPlayer } from \"../../store/reducers/PlayerReducer\";\nimport ChickenContainer from \"./ChickenContainer/ChickenContainer\";\nimport { aggEgg } from \"../../store/reducers/ChickenReducer\";\nimport { fromEggs } from \"../../Helper/CreateFromEggs\";\nimport { useEffect, useRef, useState } from \"react\";\nimport ChoisePlayer from \"../ChoicePlayer/ChoicePlayer\";\nimport ButtonControlGameContainer from \"../ButtonControlerGame/ButtonControlGameContainer\";\nimport Timer from \"../Timer/Timer\";\nimport OpenChickenContainer from \"../OpenChikenContainer/OpenChickenContainer\";\nimport GameOver from \"../GameOver/GameOver\";\n\nconst WindowGame = () => {\n  const ref = useRef();\n  const owner = useSelector((state) => state.player.owner);\n  const runGame = useSelector((state) => state.player.gameIsRun);\n  const speedEggSpawn = useSelector((state) => state.player.speedEggSpawn);\n  const gameOver = useSelector((state) => state.player.gameOver);\n\n  const [h, setH] = useState(window.screen.availWidth);\n  useEffect(() => {\n    const test = document.querySelector(\".test\");\n    setH(test.offsetHeight);\n    const windowRaz = () => {\n      const w = document.querySelector(\".container\").clientWidth;\n      setH(test.offsetHeight);\n    };\n    window.addEventListener(\"resize\", windowRaz);\n    window.addEventListener(\"orientationchange\", windowRaz);\n    return () => {\n      window.removeEventListener(\"resize\", windowRaz);\n      window.removeEventListener(\"orientationchange\", windowRaz);\n    };\n  }, []);\n  const dispatch = useDispatch();\n  const BTN = [\n    {\n      position: \"1\",\n    },\n    {\n      position: \"3\",\n    },\n    {\n      position: \"2\",\n    },\n    {\n      position: \"4\",\n    },\n  ];\n  useEffect(() => {\n    let t;\n    if (runGame) {\n      t = setInterval(() => {\n        const from = fromEggs();\n        dispatch(aggEgg(from));\n      }, speedEggSpawn);\n    }\n    return () => {\n      clearInterval(t);\n    };\n  }, [runGame, speedEggSpawn]);\n\n  const changePosition = (pos) => {\n    dispatch(movePositionPlayer(pos));\n  };\n\n  return (\n    <div style={{ width: \"100%\", height: \"100%\" }}>\n      {owner ? (\n        <div className={S.gameWindow}>\n          <div\n            className={\"container\"}\n            ref={ref}\n            style={{\n              height: `${h}px`,\n\n              width: `100%`,\n            }}\n          >\n            {owner && <ButtonControlGameContainer />}\n            <Timer />\n            <ChickenContainer />\n            <GameOver gameOver={gameOver} />\n            <OpenChickenContainer />\n            <div className={S.buttonBody}>\n              {BTN.map((el) => (\n                <MoveButton\n                  key={el.position}\n                  position={el.position}\n                  action={changePosition}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n      ) : (\n        <ChoisePlayer onliFull={true} owner={owner} />\n      )}\n    </div>\n  );\n};\n\nexport default WindowGame;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}